<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Prompt Stop Loss</title>

  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      background-color: #f5f5f7;
      padding: 20px;
    }

    .container {
      max-width: 900px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 18px;
      box-shadow: 0 2px 10px rgba(0,0,0,.1);
    }

    h1 {
      margin-bottom: 16px;
    }

    .controls {
      margin-bottom: 12px;
    }

    button {
      background: #0a84ff;
      color: white;
      border: none;
      padding: 10px 16px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 15px;
    }

    button:disabled {
      background: #7fb6ff;
      cursor: default;
    }

    .output {
      background: #f5f5f7;
      border: 1px solid #e5e5ea;
      border-radius: 14px;
      padding: 16px;
      white-space: pre-wrap;
      margin-top: 10px;
    }

    .copied {
      color: #0a84ff;
      margin-left: 10px;
      font-size: 14px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>Prompt Stop Loss</h1>

    <div class="controls">
      <button id="copyBtn">Copiar prompt</button>
      <span id="copyMsg" class="copied" hidden>✔ Texto copiado</span>
    </div>

    <pre id="descripcion" class="output"></pre>
  </div>

  <script>
    const out = document.getElementById("descripcion");
    const copyBtn = document.getElementById("copyBtn");
    const copyMsg = document.getElementById("copyMsg");

    const template = `Aquí tienes un **prompt diario** listo para copiar/pegar, con tono y estructura de **gestor institucional** para acciones y ETFs (swing 1–8 semanas). Solo reemplazas los datos.

---

### Prompt diario (copiar/pegar)

**Rol:**
Actúa como un **gestor institucional de acciones y ETFs** (buy-side). Tu objetivo es **proteger capital, reducir drawdowns y dejar correr tendencias**. Horizonte **1–8 semanas**. Opero **acciones reales y ETFs**.

**Input que te daré (formato tabla o lista):**

* Ticker, Nombre, Tipo (Acción/ETF), Moneda
* Precio entrada, Precio actual, Máximo desde entrada (si lo tengo), Mínimo reciente (si lo tengo)
* Stop actual (si existe)
* Tamaño posición (opcional)
* Fecha de compra (opcional)

**Tareas (OBLIGATORIO):**

1. **Diagnóstico por posición**

   * Clasifica cada ticker en: *Perdedor*, *Plano*, *Ganador*, *Ganador avanzado* (define umbrales claros por % vs entrada).
   * Identifica si el stop actual **no protege capital** o **no protege utilidades**.

2. **Stops técnicos profesionales (3 perfiles)**
   Construye una tabla con columnas:
   **Ticker | Nombre | Tipo | Entrada | Actual | Stop actual | Riesgo Bajo | Riesgo Medio | Riesgo Alto | Tipo de stop (SL/TS) | Racional técnico (1 línea) | Acción hoy (subir/mantener/cancelar)**

   * Para *Perdedores/Planos*: calcula **Stop inicial (SL)** por volatilidad del activo (no uses números arbitrarios).
   * Para *Ganadores*: calcula **Trailing stop (TS)** que suba con el precio y **nunca baje**.
   * En riesgo bajo/medio/alto, define reglas consistentes (por ejemplo: giveback %, ATR/Chandelier, o swing-low + buffer) y aplícalas.

3. **Reglas de ejecución**

   * Si el stop nuevo queda **por debajo del stop actual** (menos protector), **no lo bajes**: deja el mayor (más alto).
   * Para cada posición indica: **“Mover stop a X”** o “Mantener” y justifica en 1 línea.
   * Señala 3–5 **riesgos macro/sector** relevantes del día (solo los que afecten a mis tickers).

4. **Resumen tipo comité (máximo 8 líneas)**

   * Qué posiciones están en “modo defensa”, cuáles en “modo dejar correr”, y cuáles deberían salir si se rompe nivel.

**Estilo y estándares:**

* Lenguaje profesional, directo, sin relleno.
* No inventes datos. Si falta *máximo desde entrada* o *mínimo reciente*, usa un método alterno (p. ej., trailing por % + confirmación) y avisa.
* Enfatiza protección de capital: stops claros, accionables y con disciplina.

**Ahora analiza esta cartera:**
[PEGA AQUÍ TU TABLA / LISTA DE POSICIONES]

---

Si quieres, te lo adapto a tu “estándar fijo” (por ejemplo: **ATR/Chandelier** como regla oficial) y a tus límites de riesgo (ej. pérdida máxima por trade, % del portafolio por posición).


`;

    // Mostrar el template al cargar
    out.textContent = template;

    copyBtn.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(template);
        copyMsg.hidden = false;

        setTimeout(() => {
          copyMsg.hidden = true;
        }, 1500);
      } catch (e) {
        alert("No se pudo copiar el texto");
      }
    });
  </script>
</body>
</html>


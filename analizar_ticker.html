<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Analizar Ticker</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f7;
      color: #1d1d1f;
    }
    .container {
      max-width: 900px;
      margin: 0 auto;
      background-color: white;
      border-radius: 18px;
      padding: 30px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
    h1 {
      font-size: 32px;
      font-weight: 700;
      margin-bottom: 8px;
      color: #1d1d1f;
    }
    .sub {
      margin: 0 0 22px 0;
      color: #6e6e73;
      line-height: 1.5;
      font-size: 14px;
    }
    p {
      font-size: 16px;
      line-height: 1.6;
      color: #1d1d1f;
      white-space: pre-wrap;
      margin-top: 18px;
    }
    label {
      display: block;
      font-weight: 600;
      margin-top: 14px;
      font-size: 14px;
    }
    input, select {
      width: 100%;
      padding: 10px 12px;
      margin-top: 6px;
      border-radius: 10px;
      border: 1px solid #d2d2d7;
      font-size: 16px;
      background: #fff;
      outline: none;
    }
    input:focus, select:focus {
      border-color: #0a84ff;
      box-shadow: 0 0 0 3px rgba(10, 132, 255, 0.15);
    }
    .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
    }
    @media (max-width: 720px) {
      .row { grid-template-columns: 1fr; }
    }
    .btns {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 18px;
    }
    button {
      background-color: #0a84ff;
      color: white;
      border: none;
      padding: 10px 18px;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.04s ease, background-color 0.2s;
    }
    button:hover { background-color: #0077f6; }
    button:active { transform: scale(0.99); }
    button.secondary {
      background-color: #1d1d1f;
    }
    button.secondary:hover {
      background-color: #2c2c2e;
    }
    button.ghost {
      background-color: transparent;
      color: #1d1d1f;
      border: 1px solid #d2d2d7;
    }
    button.ghost:hover {
      background-color: #f5f5f7;
    }
    .hidden { display: none; }
    .controls { margin-top: 16px; }
    .hint {
      margin-top: 8px;
      font-size: 13px;
      color: #6e6e73;
      line-height: 1.45;
    }
    .chip {
      display: inline-block;
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      background: #f5f5f7;
      border: 1px solid #e5e5ea;
      color: #1d1d1f;
      margin-top: 10px;
    }
    .resultBox {
      background: #fbfbfd;
      border: 1px solid #e5e5ea;
      border-radius: 14px;
      padding: 16px;
      margin-top: 16px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>An√°lisis Ticker</h1>
    <p class="sub">
      Genera un <strong>prompt profesional</strong> (educativo, no-advice) para analizar un ticker con
      <strong>horizonte temporal</strong> y <strong>perfil de riesgo</strong>.
    </p>

    <!-- FORMULARIO -->
    <form id="formulario">
      <label for="ticker">Ticker:</label>
      <input
        type="text"
        id="ticker"
        name="ticker"
        placeholder="Ej: AAPL"
        style="text-transform: uppercase; width: 140px;"
        oninput="this.value = this.value.toUpperCase();"
        required
      />

      <div class="row">
        <div>
          <label for="temporal">Temporal:</label>
          <select id="temporal" name="temporal" required>
            <option value="" selected disabled>Selecciona una opci√≥n</option>
            <option value="Corto Plazo">Corto Plazo</option>
            <option value="Swing">Swing</option>
            <option value="Buy and Hold">Buy and Hold</option>
          </select>
          <div class="hint">Define el horizonte para ajustar enfoque t√©cnico, catalizadores y gesti√≥n de riesgo.</div>
        </div>

        <div>
          <label for="riesgo">Riesgo:</label>
          <select id="riesgo" name="riesgo" required>
            <option value="" selected disabled>Selecciona una opci√≥n</option>
            <option value="Bajo">Bajo</option>
            <option value="Medio">Medio</option>
            <option value="Alto">Alto</option>
          </select>
          <div class="hint">Ajusta la exigencia del modelo: volatilidad tolerada, rangos de SL/TP y tama√±o de posici√≥n (%).</div>
        </div>
      </div>

      <div class="btns">
        <button type="submit">Generar Prompt</button>
        <button id="resetBtn" type="button" class="ghost">Limpiar</button>
      </div>
    </form>

    <!-- TEXTO OCULTO (PLANTILLA DEL PROMPT) -->
    <p id="descripcion" class="hidden">
# üìò Rol

Eres un **Analista Financiero Senior** con doctorado en **Mercados de Capitales**, especializado en:

* An√°lisis fundamental, t√©cnico y macroecon√≥mico
* Acciones, ETFs y activos globales
* Enfoque combinado: **bottom-up** (empresa) + **top-down** (mercado)

üìå Solo debes consultar y citar fuentes financieras **verificables y actualizadas (<7 d√≠as)**, tales como:

* Bloomberg, Reuters, Yahoo Finance, MarketScreener, Seeking Alpha, Investor Relations
* **Excepciones permitidas (indicadores espec√≠ficos):** CBOE (VIX), CNN Business (Fear & Greed Index), Federal Reserve / FRED, BLS (IPC), BEA (PIB), U.S. Treasury (rendimientos), ECB (eurozona), BanRep (Colombia).

---

# 0) Par√°metros del usuario (OBLIGATORIO)

**Ticker:** [TICKER]  
**Horizonte temporal:** [TEMPORAL]  (Corto Plazo / Swing / Buy and Hold)  
**Perfil de riesgo:** [RIESGO] (Bajo / Medio / Alto)

**Reglas de interpretaci√≥n por par√°metro (apl√≠calas en todo el informe):**

## A) Horizonte temporal
- **Corto Plazo:** foco en timing, volatilidad, niveles, catalizadores inmediatos (d√≠as‚Äìsemanas). Se√±ales m√°s estrictas.
- **Swing:** equilibrio t√©cnico + fundamentales (semanas‚Äìmeses). Priorizas tendencia y niveles relevantes.
- **Buy and Hold:** foco en calidad del negocio, moat, valuaci√≥n razonable, y riesgo estructural (a√±os). T√©cnica solo como ‚Äútiming secundario‚Äù.

## B) Perfil de riesgo (define el ‚Äúmarco‚Äù saido, sin consejo)
Usa estos rangos **educativos** para parametrizar el diagn√≥stico:
- **Bajo:** riesgo por operaci√≥n objetivo ~0.5%‚Äì1.0% del portafolio; prioriza liquidez, baja volatilidad relativa, setups claros; evita se√±ales d√©biles.
- **Medio:** riesgo por operaci√≥n objetivo ~1.0%‚Äì2.0%; admite volatilidad moderada; exige RRR y confirmaciones razonables.
- **Alto:** riesgo por operaci√≥n objetivo ~2.0%‚Äì3.0%; tolera volatilidad y drawdowns mayores; aun as√≠ exige invalidaci√≥n t√©cnica y RRR aceptable.

> Importante: si faltan datos, marca **N/D** y explica por qu√©. No inventes n√∫meros.

---

# üß≠ Objetivo

Elabora un **informe completo y actualizado** para evaluar si el activo est√°:
**Configuraci√≥n favorable** / **Esperar confirmaci√≥n** / **No favorable**,

seg√∫n:
* Fundamentales
* Contexto macro/top-down
* T√©cnica / timing
* Gesti√≥n de riesgo **en t√©rminos de %** (no requiere capital en USD)

üìå La salida debe ser **educativa (no-advice)**: no uses ‚Äúcompra/vende‚Äù. Usa lenguaje como ‚Äúconfiguraci√≥n‚Äù, ‚Äúprobabilidades‚Äù, ‚Äúcondiciones‚Äù, ‚Äúsi-entonces‚Äù.

---

# üß± Estructura del Informe (OBLIGATORIA)

## 1) Encabezado

* **Fecha de an√°lisis:** [YYYY-MM-DD]
* **Ticker:** [TICKER] ‚Äì [Nombre completo]
* **Horizonte temporal:** [TEMPORAL]
* **Perfil de riesgo:** [RIESGO]

**Clasificaci√≥n operativa (resultado del modelo, no-advice):**
**Configuraci√≥n favorable** / **Esperar confirmaci√≥n** / **No favorable**

Incluye 2‚Äì3 l√≠neas explicando por qu√© la clasificaci√≥n **s√≠** encaja con [TEMPORAL] y [RIESGO].

---

## 2) Datos Generales del Activo

| Elemento           | Detalle                                     | Fuente   | Fecha   |
| ------------------ | ------------------------------------------- | -------- | ------- |
| Precio actual      | [USD ‚Ä¶]                                     | [Fuente] | [Fecha] |
| Sector / Subsector | [Texto]                                     | [Fuente] | [Fecha] |
| Pa√≠s               | [Texto]                                     | [Fuente] | [Fecha] |
| Clasificaci√≥n      | [Acci√≥n USA / ETF / Internacional / etc.]   | [Fuente] | [Fecha] |
| Estilo             | [Value / Growth / Dividend / CAN SLIM]      | [Fuente] | [Fecha] |
| Horizonte (param)  | **[TEMPORAL]**                               | ‚Äî        | ‚Äî       |
| Riesgo (param)     | **[RIESGO]**                                 | ‚Äî        | ‚Äî       |

**Descripci√≥n breve (1 p√°rrafo):**
[Qu√© hace, c√≥mo gana dinero, exposici√≥n, drivers]

**Tesis de inversi√≥n (en bullets):**
* [Ventaja competitiva / moat]
* [Exposici√≥n tem√°tica]
* [Riesgos clave]

---

## 3) An√°lisis Fundamental

**Tabla de ratios + interpretaci√≥n (fortalezas, debilidades, valuaci√≥n relativa):**

| Ratio                     | Valor     | Interpretaci√≥n                    | Fuente | Fecha |
| ------------------------- | --------- | --------------------------------- | ------ | ----- |
| PER                       | [Valor]   | [vs sector / hist√≥rico]           |        |       |
| P/B                       | [Valor]   |                                   |        |       |
| ROE                       | [Valor]   |                                   |        |       |
| Margen operativo          | [Valor %] |                                   |        |       |
| Crec. ingresos 3 a√±os     | [Valor %] |                                   |        |       |
| Deuda / Patrimonio        | [Valor]   |                                   |        |       |
| FCF (Flujo de Caja Libre) | [Valor]   |                                   |        |       |

**Catalizadores fundamentales pr√≥ximos (con fechas):**
[Resultados, guidance, aprobaciones, lanzamientos, etc.]

---

## 4) Contexto de Mercado (Top-Down)

| Indicador              | Valor                                 | Interpretaci√≥n      | Fuente | Fecha |
| ---------------------- | ------------------------------------- | ------------------- | ------ | ----- |
| VIX                    | [Valor]                               | [Bajo / Alto]       |        |       |
| Fear & Greed Index     | [Nivel]                               | [Optimismo / Miedo] |        |       |
| Tendencia del mercado  | [S&P 500 / Nasdaq / Sector]           |                     |        |       |
| Eventos macro pr√≥ximos | [Fechas: IPC, tasas, PIB, etc.]       |                     |        |       |

**Conclusi√≥n macro (1 p√°rrafo):**
Explica si el entorno favorece o limita el tipo de operaci√≥n compatible con **[TEMPORAL]** y el umbral de tolerancia de **[RIESGO]**.

---

## 5) An√°lisis T√©cnico y Configuraci√≥n Operativa

> **Nota:** valores t√©cnicos deben ser actualizados (<7 d√≠as).

Incluye, como m√≠nimo, estos componentes:
* **Medias m√≥viles:** (elige seg√∫n [TEMPORAL])  
  - Corto Plazo: MA20/MA50  
  - Swing: MA50/MA200  
  - Buy and Hold: MA200 + estructura de m√°ximos/m√≠nimos
* **ATR(20):** [..] ‚Üí gu√≠a de volatilidad
* **Volumen:** [..] vs prom. 20d [..] ‚Üí [confirma / no confirma]
* **RSI / MACD:** RSI = [..], MACD = [se√±al]
* **Setup t√©cnico (texto):** [ruptura / pullback / rango / tendencia]

**Niveles propuestos (educativo, no-advice):**
* **Zona de activaci√≥n / Entrada referencial:** USD [..]
* **Invalidaci√≥n (Stop) ‚Äî elige 1 y justifica seg√∫n [TEMPORAL] y [RIESGO]:**
  - **Por estructura:** bajo soporte / debajo de nivel clave
  - **Por volatilidad (ATR):** SL = Entrada ‚àí (Factor √ó ATR(20)), Factor sugerido:
    - Corto Plazo: 1.0‚Äì1.5
    - Swing: 1.5‚Äì2.5
    - Buy and Hold: 2.0‚Äì3.0 (o invalidaci√≥n fundamental + MA200)
* **Objetivo (TP) / salida parcial (si aplica):**
  - Por nivel t√©cnico (resistencia/objetivo de patr√≥n), o
  - Por m√∫ltiplos: TP = Entrada + (k √ó ATR), con k ‚â• 2√óFactor del SL (para sostener RRR)

**RRR (Risk/Reward Ratio):**
[
\text{RRR}=\frac{\text{TP}-\text{Entrada}}{\text{Entrada}-\text{SL}}
]
Objetivo: **RRR ‚â• 2.0** (si [RIESGO]=Bajo, s√© m√°s estricto; si Alto, admite 1.8‚Äì2.0 solo si la tesis es fuerte).

---

## 6) Gesti√≥n de Riesgo (SIN capital en USD)

Tu misi√≥n: proponer sizing **en porcentaje del portafolio**, usando el riesgo objetivo del perfil.

### 6.1 Par√°metro de riesgo por operaci√≥n (seg√∫n [RIESGO])
- Bajo: **0.5%‚Äì1.0%**
- Medio: **1.0%‚Äì2.0%**
- Alto: **2.0%‚Äì3.0%**

### 6.2 C√°lculo de tama√±o de posici√≥n (% del portafolio)
Define:
- **Stop%** = (Entrada ‚àí SL) / Entrada
- **Riesgo%** = (seg√∫n el rango del perfil)

Entonces:
[
\text{Posici√≥n%}\approx\frac{\text{Riesgo%}}{\text{Stop%}}
]

Ejemplo conceptual: si Stop% = 5% y Riesgo% = 1%, entonces Posici√≥n% ‚âà 20% (esto puede ser demasiado alto; debes aplicar ‚Äúcap‚Äù por volatilidad y concentraci√≥n).

### 6.3 Reglas de control (educativas, no-advice)
- Aplica un **cap** de concentraci√≥n por activo seg√∫n [RIESGO]:
  - Bajo: 5%‚Äì10%
  - Medio: 8%‚Äì15%
  - Alto: 10%‚Äì25% (solo en tesis fuerte y liquidez alta)
- Si el c√°lculo supera el cap, reduce Posici√≥n% y **mant√©n el riesgo** ajustando el SL (si t√©cnicamente v√°lido) o descartando la operaci√≥n.
- Si **RRR < 1.5** ‚Üí No favorable (salvo Buy and Hold con tesis excepcional, pero explica por qu√© ser√≠a una excepci√≥n educativa).

Entrega al final de esta secci√≥n:
* Riesgo% elegido (dentro del rango)
* Stop% estimado
* Posici√≥n% sugerida (y cap aplicado)
* Conclusi√≥n: si el plan encaja con [TEMPORAL] y [RIESGO]

---

## 7) Comparativa Sectorial

| Compa√±√≠a / ETF      | PER | ROE | YTD Return | Market Cap | Fuente | Fecha |
| ------------------- | --- | --- | ---------- | ---------- | ------ | ----- |
| [Ticker actual]     |     |     |            |            |        |       |
| [Competidor 1]      |     |     |            |            |        |       |
| [Competidor 2]      |     |     |            |            |        |       |
| [ETF de referencia] |     |     |            |            |        |       |

**Conclusi√≥n sectorial (1 p√°rrafo):**
Valoraci√≥n relativa + resiliencia vs pares + riesgos.

---

## 8) Catalizadores y Estrategia Global

* C√≥mo encaja el activo con el horizonte **[TEMPORAL]**
* Catalizadores que pueden cambiar el sesgo (fechas)
* Principales riesgos que invalidan la tesis

---

## 9) Score Global y Clasificaci√≥n (0‚Äì100)

> **Escala unificada**: **Puntuaci√≥n (0‚Äì100)**.  
> Subtotal = Puntuaci√≥n √ó Peso.

| Factor           | Peso  | Puntuaci√≥n (0‚Äì100) | Subtotal         |
| ---------------- | ----- | ------------------ | ---------------- |
| Fundamentales    | 40 %  | [x]                | [x√ó0.40]         |
| Contexto & Macro | 25 %  | [x]                | [x√ó0.25]         |
| T√©cnica / Timing | 25 %  | [x]                | [x√ó0.25]         |
| Catalizadores    | 10 %  | [x]                | [x√ó0.10]         |
| **TOTAL**        | 100 % |                    | **[Score /100]** |

**Interpretaci√≥n (solo aqu√≠ se permiten emojis):**
| Score total | Clasificaci√≥n general     | Interpretaci√≥n                                                 |
| ----------- | ------------------------- | -------------------------------------------------------------- |
| **80‚Äì100**  | üü¢ Alta calidad           | S√≥lido para el horizonte; cumple criterios con holgura.        |
| **65‚Äì79**   | üü° Moderada / Atractiva   | Bueno con riesgos puntuales o valuaci√≥n exigente.              |
| **50‚Äì64**   | ‚ö™ Neutral / Promedio      | Sin ventaja clara; requiere confirmaciones.                    |
| **35‚Äì49**   | üü† D√©bil / Riesgo Elevado | Riesgos relevantes; inconsistente con [RIESGO].                |
| **<35**     | üî¥ Deficiente             | Estructura deteriorada o tesis d√©bil.                           |

---

## 10) Resumen Ejecutivo Final (NO-ADVICE)

**[Nombre de la Compa√±√≠a] ([TICKER]) ‚Äì Ficha de Clasificaci√≥n**

* **Fecha:** [YYYY-MM-DD]
* **Precio actual:** [USD ‚Ä¶]
* **Sector:** [Texto]
* **Horizonte:** **[TEMPORAL]**
* **Riesgo:** **[RIESGO]**
* **Score:** **[xx / 100]**
* **Clasificaci√≥n operativa (modelo):** **Configuraci√≥n favorable / Esperar confirmaci√≥n / No favorable**
* **Diagn√≥stico breve (3‚Äì5 l√≠neas):** explica con claridad por qu√© ese resultado es coherente con los par√°metros.

### Plan Operativo Hipot√©tico (educativo, no-advice)
Incluye valores ilustrativos:
* Entrada referencial: [..]
* SL (invalidaci√≥n) y l√≥gica: [..]
* TP / salida y l√≥gica: [..]
* RRR estimada: [..]
* Riesgo% elegido (seg√∫n [RIESGO]): [..]
* Stop% estimado: [..]
* Posici√≥n% sugerida + cap aplicado: [..]

### ‚ÄúQu√© tendr√≠a que pasar para cambiar de opini√≥n‚Äù
Lista 3 condiciones verificables (t√©cnicas/fundamentales/macro).

---

## 11) Anexos y Fuentes

Incluye todas las **URLs** y **fechas exactas** utilizadas.
Ejemplo:
* Yahoo Finance ‚Äî [YYYY-MM-DD]
* Bloomberg ‚Äî [YYYY-MM-DD]
* Investor Relations (10-Q, 8-K, Form 4) ‚Äî [YYYY-MM-DD]
* CBOE (VIX) ‚Äî [YYYY-MM-DD]
* CNN Business (Fear & Greed) ‚Äî [YYYY-MM-DD]
* BLS/BEA/FED ‚Äî [YYYY-MM-DD]

---

# ‚úÖ Requisitos de Calidad

* Usa datos **actualizados (<7 d√≠as)**
* Si un dato no existe, marca **‚ÄúN/D‚Äù** e indica la raz√≥n
* Mant√©n tono **profesional y anal√≠tico**
* **No emitas recomendaciones** (comprar/vender). Tu funci√≥n es **evaluar y clasificar** el activo seg√∫n criterios objetivos, devolviendo un **diagn√≥stico educativo (no-advice)** alineado con **[TEMPORAL]** y **[RIESGO]**.
    </p>

    <!-- RESULTADO -->
    <div id="resultado" class="hidden">
      <div class="chip" id="chipInfo"></div>
      <div class="resultBox" id="resultadoTexto"></div>
    </div>

    <!-- CONTROLES -->
    <div id="copySection" class="controls hidden">
      <div class="btns">
        <button id="copyBtn" type="button" class="secondary">Copiar prompt</button>
        <button id="newBtn" type="button" class="ghost">Nueva consulta</button>
      </div>
      <div class="hint">Pega el prompt en ChatGPT y agrega ‚ÄúAnaliza este ticker‚Äù si quieres, o env√≠alo tal cual.</div>
    </div>
  </div>

  <script>
    const form = document.getElementById("formulario");
    const plantilla = document.getElementById("descripcion");
    const resultadoWrap = document.getElementById("resultado");
    const resultadoTexto = document.getElementById("resultadoTexto");
    const chipInfo = document.getElementById("chipInfo");
    const copyBtn = document.getElementById("copyBtn");
    const copySection = document.getElementById("copySection");
    const resetBtn = document.getElementById("resetBtn");
    const newBtn = document.getElementById("newBtn");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      const ticker = document.getElementById("ticker").value.trim().toUpperCase();
      const temporal = document.getElementById("temporal").value;
      const riesgo = document.getElementById("riesgo").value;

      let texto = plantilla.textContent
        .replaceAll("[TICKER]", ticker)
        .replaceAll("[TEMPORAL]", temporal)
        .replaceAll("[RIESGO]", riesgo);

      // Mostrar resultado
      form.classList.add("hidden");
      resultadoWrap.classList.remove("hidden");
      copySection.classList.remove("hidden");

      chipInfo.textContent = `Ticker: ${ticker} ¬∑ Temporal: ${temporal} ¬∑ Riesgo: ${riesgo}`;
      resultadoTexto.textContent = texto;
    });

    // Copiar al portapapeles
    copyBtn.addEventListener("click", async () => {
      try {
        await navigator.clipboard.writeText(resultadoTexto.textContent);
        copyBtn.textContent = "¬°Copiado!";
        setTimeout(() => (copyBtn.textContent = "Copiar prompt"), 1500);
      } catch (err) {
        console.error("Error al copiar:", err);
        copyBtn.textContent = "Error al copiar";
      }
    });

    // Limpiar formulario
    resetBtn.addEventListener("click", () => {
      document.getElementById("ticker").value = "";
      document.getElementById("temporal").value = "";
      document.getElementById("riesgo").value = "";
      document.getElementById("ticker").focus();
    });

    // Nueva consulta (reiniciar)
    newBtn.addEventListener("click", () => {
      location.reload();
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Generador de Prompt Profesional</title>

   <style>
  :root {
    font-family: "Inter", "Segoe UI", system-ui, -apple-system, sans-serif;
    background-color: #f8fafc;
    color: #1e293b;
  }

  body {
    margin: 0;
    padding: 32px 20px;
    background: #f8fafc;
    min-height: 100vh;
  }

  .container {
    max-width: 900px;
    margin: 0 auto;
    background: #ffffff;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(15, 23, 42, 0.08);
    padding: 32px;
  }

  h1 {
    margin-top: 0;
    font-size: 1.6rem;
    color: #0f172a;
  }

  h3 {
    margin-bottom: 8px;
    color: #1e293b;
  }

  p {
    color: #475569;
    font-size: 0.95rem;
  }

  .section {
    margin-top: 28px;
  }

  .box {
    border: 1px solid #e2e8f0;
    border-radius: 12px;
    background: #f9fafb;
    padding: 16px;
  }

  textarea {
    width: 100%;
    min-height: 180px;
    border: none;
    resize: vertical;
    background: transparent;
    font-size: 0.95rem;
    line-height: 1.6;
    color: #0f172a;
  }

  textarea::placeholder {
    color: #94a3b8;
  }

  textarea:focus {
    outline: none;
  }

  .actions {
    display: flex;
    gap: 12px;
    margin-top: 24px;
    flex-wrap: wrap;
  }

  button {
    border: none;
    padding: 10px 22px;
    border-radius: 999px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.95rem;
  }

  button.primary {
    background: #3b82f6;
    color: #ffffff;
    box-shadow: 0 6px 14px rgba(59, 130, 246, 0.25);
  }

  button.primary:hover {
    background: #2563eb;
  }

  button.secondary {
    background: #f1f5f9;
    color: #0f172a;
  }

  button.secondary:hover {
    background: #e2e8f0;
  }

  .status {
    margin-top: 14px;
    font-size: 0.9rem;
    color: #0284c7;
    min-height: 20px;
  }
</style>

  </head>

  <body>
    <div class="container">
      <h1>Generador de Prompt — Rebalanceo Institucional</h1>
      <p>
        Pega abajo el <strong>portafolio propuesto</strong>.  
        Al generar, se incrusta automáticamente dentro del prompt profesional.
      </p>

      <!-- INPUT PORTAFOLIO -->
      <div class="section">
        <h3>Portafolio propuesto (input)</h3>
        <div class="box">
          <textarea
            id="portfolioInput"
            placeholder="Ejemplo:
AAPL $3,200
MSFT $2,800
XLE $1,500
Cash $500"
          ></textarea>
        </div>
      </div>

      <!-- PROMPT FINAL -->
      <div class="section">
        <h3>Prompt generado (listo para copiar)</h3>
        <div class="box">
          <textarea id="promptOutput" readonly></textarea>
        </div>
      </div>

      <!-- ACTIONS -->
      <div class="actions">
        <button class="primary" id="generate">Generar prompt</button>
        <button class="secondary" id="copy">Copiar prompt</button>
      </div>

      <div class="status" id="status"></div>
    </div>

    <script>
      const basePrompt = `
PROMPT PROFESIONAL — REBALANCEO INSTITUCIONAL CON CAPITALIZACIÓN

Actúa como un gestor de portafolios cuantitativo institucional (20+ años en equity markets) especializado en:
Asignación táctica sectorial
Control de riesgo y ejecución
Selección por capitalización bursátil y liquidez

OBJETIVO
Comparar un portafolio real vs. una distribución objetivo por sectores GICS y producir únicamente una tabla profesional de variaciones necesarias.

PORTAFOLIO PROPUESTO (INPUT REAL)
{{PORTFOLIO}}

REGLAS
% reales suman 100%
Variación $ neta = 0
Solo tabla, sin narrativa
Capitalización coherente con swing trading
Liquidez alta (XTB compatible)

REGLAS DE ANÁLISIS (OBLIGATORIAS)

La suma de los % reales debe ser 100%

La variación $ neta total debe ser = 0

La distribución objetivo debe ser coherente con el perfil del usuario

No sugerir instrumentos ilíquidos o no compatibles con el broker indicado

Capitalización alineada a horizonte, riesgo y frecuencia operativa

No narrativa, no explicaciones, no comentarios fuera de la tabla

CRITERIOS DE CAPITALIZACIÓN (AJUSTABLES AL PERFIL)

Large Cap: base estructural, liquidez, ejecución limpia

Mid Cap: alpha y momentum, peso controlado

Small Cap: solo táctico, acorde a riesgo y experiencia

FORMATO DE SALIDA (ÚNICO RESULTADO)
Sector (GICS)	Mercado (DM/EM)	Propuesto % ($)	Actual % ($)	Variación (pp)	Variación $	Acción	Capitalización objetivo

⚠️ No incluir texto adicional fuera de la tabla.
`;

      const portfolioInput = document.getElementById("portfolioInput");
      const promptOutput = document.getElementById("promptOutput");
      const status = document.getElementById("status");

      document.getElementById("generate").addEventListener("click", () => {
        const portfolioText = portfolioInput.value.trim();

        if (!portfolioText) {
          status.textContent = "Debes ingresar el portafolio propuesto.";
          return;
        }

        const finalPrompt = basePrompt.replace(
          "{{PORTFOLIO}}",
          portfolioText
        );

        promptOutput.value = finalPrompt;
        status.textContent = "Prompt generado correctamente.";
      });

      document.getElementById("copy").addEventListener("click", async () => {
        if (!promptOutput.value) return;

        await navigator.clipboard.writeText(promptOutput.value);
        status.textContent = "Prompt copiado al portapapeles.";
      });
    </script>
  </body>
</html>
